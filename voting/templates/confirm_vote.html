<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Confirm Your Vote</title>
  </head>
  <body>
    <h1>Confirm Your Vote</h1>
    <p>You are voting for {{ candidate.name }} in {{ election.title }}.</p>

    <!-- Form to submit the final vote -->
    <form method="POST" action="{% url 'cast_vote' election.election_id %}">
      {% csrf_token %}
      <input
        type="hidden"
        name="candidate_id"
        value="{{ candidate.candidate_id }}"
      />
      <button type="submit" name="finalize_vote">Confirm</button>
    </form>

    <!-- JavaScript to show Django messages -->
    <script>
      function showMessage(message) {
        alert(message); // Displays the message in a simple alert dialog
      }
      
      {% if messages %}
      {% for message in messages %}
      showMessage("{{ message|escapejs }}");
      {% endfor %}
      {% endif %}
    </script>
  </body>
</html>
